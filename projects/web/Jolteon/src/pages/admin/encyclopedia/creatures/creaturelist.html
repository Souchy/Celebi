<import from="./creature"></import>
<import from="../entitylist.less"></import>
<import from="../../../../components/modal/modal"></import>


<button class="btn listMenu" click.trigger="refresh()">Refresh</button>
<button class="btn listMenu" click.trigger="clickCreate()">New creature</button>

<input type="string" value.bind="filter" change.trigger="onSearch()" placeholder="search..." />

<!-- list -->
<div class="list">
  <!-- creature -->
  <div class="creature" repeat.for="entity of textAggregation">
    <button class="title btn-outline" click.trigger="() => clickCreature(entity)">
      ${entity.name.value}
    </button>
    <!-- delete & confirm -->
    <button class="btn close" data-bs-toggle="modal" data-bs-target="#deleteCreature-${entity.entityUid}">x</button>
    <modal id="deleteCreature-${entity.entityUid}" header="Delete Creature?" close.bind=false footer.bind=true callbackok.bind="() => clickRemove(entity)">
      Confirm delete ${entity.name.value}?
    </modal>
  </div>
</div>
