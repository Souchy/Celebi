<import from="../../zone/zone"></import>
<import from="../../strings/stringcomponent"></import>

<div if.bind="data && schema">
  <!-- hi prop grid -->

  <table>
    <tbody>
      <tr class="property" repeat.for="prop of keys">
        <td style="padding-right: 8px; color: rgb(86, 166, 241);" data-bs-toggle="collapse" data-bs-target="#collapseZone-${uid}-schema">
          ${prop}: 
        </td>
        <td>
          <template switch.bind="propName(prop)">
      
            <zone uid="${uid}-schema" case="IZone" zone.bind="data[prop]" callbacksave.bind="() => onChange()"></zone>
      
            <select case='ElementType' value.bind="data[prop]" change.trigger="onChange()">
              <option repeat.for="ele of Enums.elements" model.bind="$index">${ele}</option>
            </select>
      
            <select case='ActorType' value.bind="data[prop]" change.trigger="onChange()">
              <option repeat.for="act of Enums.actors" model.bind="$index">${act}</option>
            </select>
      
            <!-- stat : select charac id + value -->
            <!-- charac id selector -->
            <!-- iid selector:  string, creature(summon), spell, status, animation, scene/model asset  -->
            <input case="StringIID" type="string" value.bind="data[prop]" change.trigger="onChange()"/>
            <input case="CreatureIID" type="string" value.bind="data[prop]" change.trigger="onChange()"/>
            <input case="SpellIID" type="string" value.bind="data[prop]" change.trigger="onChange()"/>
            <input case="StatusIID" type="string" value.bind="data[prop]" change.trigger="onChange()"/>
            <input case="AssetIID" type="string" value.bind="data[prop]" change.trigger="onChange()"/>
            <input case="AnimationSetIID" type="string" value.bind="data[prop]" change.trigger="onChange()"/>
      
            <template default-case switch.bind="typof(prop)">
              <input case="number" type="number" value.bind="data[prop]"  change.trigger="onChange()"/>
              <!-- <div case="string"> -->
                <!-- who even has a string property -->
                <!-- and more like a string selector than a string component -->
                <!-- stringcomponent (StringEntity?) -->
              <!-- </div> -->
              <div case="boolean">
                {bool}
                <!-- toggle button -->
                  <div style="margin: 5px;">
                      <input type="checkbox" class="btn-check" id="btn-check-outlined ${prop}" autocomplete="off" checked.bind="data[prop]" change.trigger="onChange()">
                      <!-- change.trigger="onChangeBase" -->
                      <label class="btn btn-outline shadow-none" for="btn-check-outlined ${prop}">${characName}</label><br>
                  </div>
              </div>
      
            </template>
          </template>
        </td>
      </tr>
    </tbody>
  </table>

</div>
